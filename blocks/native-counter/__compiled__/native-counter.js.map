{"version":3,"file":"native-counter.js","sources":["../native-counter.ts"],"sourcesContent":["const template = document.createElement('template');\ntemplate.innerHTML = `\n  <style>\n    * {\n      font-size: 200%;\n    }\n\n    span {\n      width: 4rem;\n      display: inline-block;\n      text-align: center;\n    }\n\n    button {\n      width: 4rem;\n      height: 4rem;\n      border: none;\n      border-radius: 10px;\n      background-color: seagreen;\n      color: white;\n    }\n  </style>\n  <button id=\"dec\">-</button>\n  <span id=\"count\"></span>\n  <button id=\"inc\">+</button>`;\n\nclass NativeCounter extends HTMLElement {\n  private count = 0;\n  constructor() {\n    super();\n    this.count = 0;\n    this.attachShadow({ mode: 'open' });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.appendChild(template.content.cloneNode(true));\n    this.shadowRoot!.getElementById('inc')!.onclick = () => this.inc();\n    this.shadowRoot!.getElementById('dec')!.onclick = () => this.dec();\n    this.update(this.count);\n  }\n\n  inc() {\n    this.update(++this.count);\n  }\n\n  dec() {\n    this.update(--this.count);\n  }\n\n  update(count: number) {\n    this.shadowRoot!.getElementById('count')!.innerHTML = count.toString();\n  }\n}\n\ncustomElements.define('native-counter', NativeCounter);\n\nexport default function (block: HTMLElement) {\n  const org_content = block.innerHTML;\n  block.innerHTML = `<native-counter>${org_content}</native-counter>`;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'native-counter': NativeCounter;\n  }\n}\n"],"names":["template","NativeCounter","count","nativeCounter","block","org_content"],"mappings":"AAAA,MAAMA,EAAW,SAAS,cAAc,UAAU,EAClDA,EAAS,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAyBrB,MAAMC,UAAsB,WAAY,CAEtC,aAAc,CACN,QAFR,KAAQ,MAAQ,EAGd,KAAK,MAAQ,EACb,KAAK,aAAa,CAAE,KAAM,MAAQ,CAAA,CACpC,CAEA,mBAAoB,CAClB,KAAK,WAAY,YAAYD,EAAS,QAAQ,UAAU,EAAI,CAAC,EAC7D,KAAK,WAAY,eAAe,KAAK,EAAG,QAAU,IAAM,KAAK,MAC7D,KAAK,WAAY,eAAe,KAAK,EAAG,QAAU,IAAM,KAAK,MACxD,KAAA,OAAO,KAAK,KAAK,CACxB,CAEA,KAAM,CACC,KAAA,OAAO,EAAE,KAAK,KAAK,CAC1B,CAEA,KAAM,CACC,KAAA,OAAO,EAAE,KAAK,KAAK,CAC1B,CAEA,OAAOE,EAAe,CACpB,KAAK,WAAY,eAAe,OAAO,EAAG,UAAYA,EAAM,UAC9D,CACF,CAEA,eAAe,OAAO,iBAAkBD,CAAa,EAErD,SAAAE,EAAyBC,EAAoB,CAC3C,MAAMC,EAAcD,EAAM,UACpBA,EAAA,UAAY,mBAAmBC,CAAW,mBAClD"}